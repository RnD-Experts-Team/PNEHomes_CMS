import{c as be,u as Ne,j as t,H as Ce}from"./app-C95Nb1Q_.js";import{X as Ie,A as Ee}from"./app-layout-qbG28cj0.js";import{B as Z}from"./app-logo-icon-B4HqL7dN.js";import{I as ge}from"./input-mZLmjWfC.js";import{T as Se}from"./textarea-B9LAlBwb.js";import{L as ee}from"./label-D-tZkR4P.js";import{S as ke}from"./switch-zH2iGn6I.js";import{C as xe,a as ue,b as je,c as ve}from"./card-rkRkmiO9.js";import{I as he}from"./IdPickerButton-C207G7mx.js";import{P as we}from"./plus-Dxs5h83b.js";/* empty css            */import"./index-DfNUVKm6.js";import"./index-Bhp2316M.js";import"./index-T61tjutk.js";const Ge=[{title:"Events",href:"/admin/events"},{title:"Edit",href:"#"}];function Je(te){const e=be.c(103),{event:a}=te,le=a.title||"",se=a.description||"",ie=a.cover_image_id||"",ae=a.order||0;let o;e[0]!==a.gallery?(o=a.gallery?.map(Te)||[],e[0]=a.gallery,e[1]=o):o=e[1];let D;e[2]!==a.is_active||e[3]!==le||e[4]!==se||e[5]!==ie||e[6]!==ae||e[7]!==o?(D={title:le,description:se,cover_image_id:ie,order:ae,is_active:a.is_active,gallery:o},e[2]=a.is_active,e[3]=le,e[4]=se,e[5]=ie,e[6]=ae,e[7]=o,e[8]=D):D=e[8];const{data:l,setData:s,put:re,processing:F,errors:n}=Ne(D);let B;e[9]!==a.id||e[10]!==re?(B=i=>{i.preventDefault(),re(`/admin/events/${a.id}`)},e[9]=a.id,e[10]=re,e[11]=B):B=e[11];const ce=B;let M;e[12]!==l.gallery||e[13]!==s?(M=()=>{s("gallery",[...l.gallery,""])},e[12]=l.gallery,e[13]=s,e[14]=M):M=e[14];const ne=M;let H;e[15]!==l.gallery||e[16]!==s?(H=i=>{i.length&&s("gallery",[...l.gallery,...i])},e[15]=l.gallery,e[16]=s,e[17]=H):H=e[17];const oe=H;let L;e[18]!==l.gallery||e[19]!==s?(L=(i,c)=>{const r=[...l.gallery];r[i]=c,s("gallery",r)},e[18]=l.gallery,e[19]=s,e[20]=L):L=e[20];const U=L;let $;e[21]!==l.gallery||e[22]!==s?($=i=>{s("gallery",l.gallery.filter((c,r)=>r!==i))},e[21]=l.gallery,e[22]=s,e[23]=$):$=e[23];const me=$,de=`Edit Event - ${a.title}`;let m;e[24]!==de?(m=t.jsx(Ce,{title:de}),e[24]=de,e[25]=m):m=e[25];let z;e[26]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("h1",{className:"text-2xl font-bold",children:"Edit Event"})}),e[26]=z):z=e[26];let R;e[27]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(xe,{children:t.jsx(ue,{children:"Basic Information"})}),e[27]=R):R=e[27];let O;e[28]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(ee,{htmlFor:"title",children:"Title *"}),e[28]=O):O=e[28];let d;e[29]!==s?(d=i=>s("title",i.target.value),e[29]=s,e[30]=d):d=e[30];let f;e[31]!==l.title||e[32]!==d?(f=t.jsx(ge,{id:"title",value:l.title,onChange:d,placeholder:"Enter event title"}),e[31]=l.title,e[32]=d,e[33]=f):f=e[33];let p;e[34]!==n.title?(p=n.title&&t.jsx("p",{className:"text-sm text-destructive",children:n.title}),e[34]=n.title,e[35]=p):p=e[35];let g;e[36]!==f||e[37]!==p?(g=t.jsxs("div",{className:"space-y-2",children:[O,f,p]}),e[36]=f,e[37]=p,e[38]=g):g=e[38];let X;e[39]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(ee,{htmlFor:"description",children:"Description *"}),e[39]=X):X=e[39];let h;e[40]!==s?(h=i=>s("description",i.target.value),e[40]=s,e[41]=h):h=e[41];let y;e[42]!==l.description||e[43]!==h?(y=t.jsx(Se,{id:"description",value:l.description,onChange:h,placeholder:"Enter event description",rows:4}),e[42]=l.description,e[43]=h,e[44]=y):y=e[44];let x;e[45]!==n.description?(x=n.description&&t.jsx("p",{className:"text-sm text-destructive",children:n.description}),e[45]=n.description,e[46]=x):x=e[46];let u;e[47]!==y||e[48]!==x?(u=t.jsxs("div",{className:"space-y-2",children:[X,y,x]}),e[47]=y,e[48]=x,e[49]=u):u=e[49];let q;e[50]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(ee,{htmlFor:"order",children:"Order"}),e[50]=q):q=e[50];let j;e[51]!==s?(j=i=>s("order",parseInt(i.target.value)||0),e[51]=s,e[52]=j):j=e[52];let v;e[53]!==l.order||e[54]!==j?(v=t.jsxs("div",{className:"space-y-2",children:[q,t.jsx(ge,{id:"order",type:"number",value:l.order,onChange:j})]}),e[53]=l.order,e[54]=j,e[55]=v):v=e[55];let _;e[56]!==s?(_=i=>s("is_active",i),e[56]=s,e[57]=_):_=e[57];let b;e[58]!==l.is_active||e[59]!==_?(b=t.jsx(ke,{id:"is_active",checked:l.is_active,onCheckedChange:_}),e[58]=l.is_active,e[59]=_,e[60]=b):b=e[60];let J;e[61]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(ee,{htmlFor:"is_active",children:"Active"}),e[61]=J):J=e[61];let N;e[62]!==b?(N=t.jsxs("div",{className:"flex items-center space-x-2",children:[b,J]}),e[62]=b,e[63]=N):N=e[63];let C;e[64]!==v||e[65]!==N?(C=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v,N]}),e[64]=v,e[65]=N,e[66]=C):C=e[66];let I;e[67]!==g||e[68]!==u||e[69]!==C?(I=t.jsxs(je,{children:[R,t.jsxs(ve,{className:"space-y-4",children:[g,u,C]})]}),e[67]=g,e[68]=u,e[69]=C,e[70]=I):I=e[70];let K;e[71]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(ue,{children:"Gallery Images"}),e[71]=K):K=e[71];let Q;e[72]===Symbol.for("react.memo_cache_sentinel")?(Q=["image/jpeg","image/png","image/webp"],e[72]=Q):Q=e[72];let E;e[73]!==oe?(E=t.jsx(he,{multiple:!0,label:"Pick Images (multi)",mimeTypes:Q,onPickMany:oe}),e[73]=oe,e[74]=E):E=e[74];let V;e[75]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(we,{className:"mr-2 h-4 w-4"}),e[75]=V):V=e[75];let S;e[76]!==ne?(S=t.jsxs(Z,{type:"button",onClick:ne,size:"sm",children:[V,"Add Image"]}),e[76]=ne,e[77]=S):S=e[77];let k;e[78]!==E||e[79]!==S?(k=t.jsx(xe,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[K,t.jsxs("div",{className:"flex gap-2",children:[E,S]})]})}),e[78]=E,e[79]=S,e[80]=k):k=e[80];let w;e[81]!==l.gallery||e[82]!==me||e[83]!==s||e[84]!==U?(w=l.gallery.length===0?t.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No images added yet. Use “Pick Images (multi)” to add many at once, or click “Add Image”."}):l.gallery.map((i,c)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ge,{value:i,onChange:r=>U(c,r.target.value),placeholder:"Enter Google Drive file ID"}),t.jsx(he,{onPick:r=>U(c,r)}),t.jsx(he,{multiple:!0,label:"Multi",mimeTypes:["image/jpeg","image/png","image/webp"],onPickMany:r=>{if(!r.length)return;const _e=r[0],ye=r.slice(1),pe=[...l.gallery];pe[c]=_e,ye.length&&pe.splice(c+1,0,...ye),s("gallery",pe)}}),t.jsx(Z,{type:"button",variant:"outline",size:"icon",onClick:()=>me(c),children:t.jsx(Ie,{className:"h-4 w-4"})})]},c)),e[81]=l.gallery,e[82]=me,e[83]=s,e[84]=U,e[85]=w):w=e[85];let G;e[86]!==w?(G=t.jsx(ve,{className:"space-y-4",children:w}),e[86]=w,e[87]=G):G=e[87];let P;e[88]!==k||e[89]!==G?(P=t.jsxs(je,{children:[k,G]}),e[88]=k,e[89]=G,e[90]=P):P=e[90];let W;e[91]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(Z,{type:"button",variant:"outline",onClick:Pe,children:"Cancel"}),e[91]=W):W=e[91];const fe=F?"Updating...":"Update Event";let T;e[92]!==F||e[93]!==fe?(T=t.jsxs("div",{className:"flex justify-end gap-2",children:[W,t.jsx(Z,{type:"submit",disabled:F,children:fe})]}),e[92]=F,e[93]=fe,e[94]=T):T=e[94];let A;e[95]!==ce||e[96]!==I||e[97]!==P||e[98]!==T?(A=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[z,t.jsxs("form",{onSubmit:ce,className:"space-y-6",children:[I,P,T]})]}),e[95]=ce,e[96]=I,e[97]=P,e[98]=T,e[99]=A):A=e[99];let Y;return e[100]!==m||e[101]!==A?(Y=t.jsxs(Ee,{breadcrumbs:Ge,children:[m,A]}),e[100]=m,e[101]=A,e[102]=Y):Y=e[102],Y}function Pe(){return window.history.back()}function Te(te){return te.image_id}export{Je as default};
