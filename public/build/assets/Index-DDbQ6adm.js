import{c as K,r as M,u as Q,j as s,L as G,a as U,H as V}from"./app-C3rsozrc.js";import{S as W,A as X}from"./app-layout-B8bfmVPo.js";import{B as g}from"./app-logo-icon-CkkFEFl_.js";import{T as z,a as u,A as Y,b as Z,c as ee,d as se,e as ie,f as te,g as le,h as ae,i as re,j as ne,k as p,l as ce,m as oe}from"./alert-dialog-DQDVwx1l.js";import{B as de}from"./badge-By0_VU1u.js";import{D as me,a as he,b as xe,c as fe,d as je,e as ge,f as ue}from"./dialog-BxGEMb1X.js";import{I as pe}from"./input-uW13wAjT.js";import{L as ve}from"./label-BSu6LZp5.js";import{I as be}from"./IdPickerButton-Dy2nAkLQ.js";import{P as _e}from"./pencil-bHNIANo7.js";import{T as Se}from"./trash-2-T0plQCdD.js";import{P as De}from"./plus-CMeTMjTE.js";/* empty css            */import"./index-CUvPqKPC.js";import"./index-DBIkmkHq.js";import"./index-T61tjutk.js";const ye=[{title:"Services",href:"#"}];function Ge(H){const e=K.c(46),{services:v,settings:q}=H,[P,L]=M.useState(!1),E=q?.image_id||"";let b;e[0]!==E?(b={image_id:E},e[0]=E,e[1]=b):b=e[1];const{data:F,setData:t,put:O,processing:_,errors:S}=Q(b),J=Ne;let D;e[2]!==O?(D=i=>{i.preventDefault(),O("/admin/services/settings",{preserveScroll:!0,onSuccess:()=>{L(!1),U.reload({only:["settings"]})}})},e[2]=O,e[3]=D):D=e[3];const R=D;let y;e[4]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(V,{title:"Services"}),e[4]=y):y=e[4];let N;e[5]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx("h1",{className:"text-2xl font-bold",children:"Services"}),e[5]=N):N=e[5];let A;e[6]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(me,{asChild:!0,children:s.jsxs(g,{variant:"outline",children:[s.jsx(W,{className:"mr-2 h-4 w-4"}),"Settings"]})}),e[6]=A):A=e[6];let T;e[7]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsxs(he,{children:[s.jsx(xe,{children:"Services Settings"}),s.jsx(fe,{children:"Update the services page cover image"})]}),e[7]=T):T=e[7];let C;e[8]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(ve,{htmlFor:"image_id",children:"Cover Image ID (Google Drive) *"}),e[8]=C):C=e[8];let l;e[9]!==t?(l=i=>t("image_id",i.target.value),e[9]=t,e[10]=l):l=e[10];let a;e[11]!==F.image_id||e[12]!==l?(a=s.jsx(pe,{id:"image_id",value:F.image_id,onChange:l,placeholder:"Enter Google Drive file ID"}),e[11]=F.image_id,e[12]=l,e[13]=a):a=e[13];let r;e[14]!==t?(r=s.jsx(be,{onPick:i=>t("image_id",i)}),e[14]=t,e[15]=r):r=e[15];let n;e[16]!==a||e[17]!==r?(n=s.jsxs("div",{className:"flex gap-2",children:[a,r]}),e[16]=a,e[17]=r,e[18]=n):n=e[18];let c;e[19]!==S.image_id?(c=S.image_id&&s.jsx("p",{className:"text-sm text-destructive",children:S.image_id}),e[19]=S.image_id,e[20]=c):c=e[20];let o;e[21]!==n||e[22]!==c?(o=s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"space-y-2",children:[C,n,c]})}),e[21]=n,e[22]=c,e[23]=o):o=e[23];let I;e[24]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(g,{type:"button",variant:"outline",onClick:()=>L(!1),children:"Cancel"}),e[24]=I):I=e[24];const $=_?"Saving...":"Save Changes";let d;e[25]!==_||e[26]!==$?(d=s.jsxs(je,{children:[I,s.jsx(g,{type:"submit",disabled:_,children:$})]}),e[25]=_,e[26]=$,e[27]=d):d=e[27];let m;e[28]!==R||e[29]!==o||e[30]!==d?(m=s.jsx(ge,{children:s.jsxs("form",{onSubmit:R,children:[T,o,d]})}),e[28]=R,e[29]=o,e[30]=d,e[31]=m):m=e[31];let h;e[32]!==P||e[33]!==m?(h=s.jsxs(ue,{open:P,onOpenChange:L,children:[A,m]}),e[32]=P,e[33]=m,e[34]=h):h=e[34];let w;e[35]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(G,{href:"/admin/services/create",children:s.jsxs(g,{children:[s.jsx(De,{className:"mr-2 h-4 w-4"}),"Add Service"]})}),e[35]=w):w=e[35];let x;e[36]!==h?(x=s.jsxs("div",{className:"flex items-center justify-between",children:[N,s.jsxs("div",{className:"flex gap-2",children:[h,w]})]}),e[36]=h,e[37]=x):x=e[37];let k;e[38]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(ne,{children:s.jsxs(z,{children:[s.jsx(p,{children:"Order"}),s.jsx(p,{children:"Title"}),s.jsx(p,{children:"Slug"}),s.jsx(p,{children:"Status"}),s.jsx(p,{className:"text-right",children:"Actions"})]})}),e[38]=k):k=e[38];let f;e[39]!==v?(f=v.length===0?s.jsx(z,{children:s.jsx(u,{colSpan:5,className:"text-center",children:"No services found"})}):v.map(i=>s.jsxs(z,{children:[s.jsx(u,{children:i.order}),s.jsx(u,{className:"font-medium",children:i.title}),s.jsx(u,{children:s.jsx("code",{className:"rounded bg-muted px-2 py-1 text-sm",children:i.slug})}),s.jsx(u,{children:s.jsx(de,{variant:i.is_active?"default":"secondary",children:i.is_active?"Active":"Inactive"})}),s.jsx(u,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(G,{href:`/admin/services/${i.id}/edit`,children:s.jsx(g,{variant:"outline",size:"sm",children:s.jsx(_e,{className:"h-4 w-4"})})}),s.jsxs(Y,{children:[s.jsx(Z,{asChild:!0,children:s.jsx(g,{variant:"outline",size:"sm",className:"text-destructive",children:s.jsx(Se,{className:"h-4 w-4"})})}),s.jsxs(ee,{children:[s.jsxs(se,{children:[s.jsx(ie,{children:"Delete Service"}),s.jsxs(te,{children:['Are you sure you want to delete "',i.title,'"? This action cannot be undone.']})]}),s.jsxs(le,{children:[s.jsx(ae,{children:"Cancel"}),s.jsx(re,{onClick:()=>J(i.id),children:"Delete"})]})]})]})]})})]},i.id)),e[39]=v,e[40]=f):f=e[40];let j;e[41]!==f?(j=s.jsx("div",{className:"rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:s.jsxs(ce,{children:[k,s.jsx(oe,{children:f})]})}),e[41]=f,e[42]=j):j=e[42];let B;return e[43]!==x||e[44]!==j?(B=s.jsxs(X,{breadcrumbs:ye,children:[y,s.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[x,j]})]}),e[43]=x,e[44]=j,e[45]=B):B=e[45],B}function Ne(H){U.delete(`/admin/services/${H}`,{preserveScroll:!0})}export{Ge as default};
