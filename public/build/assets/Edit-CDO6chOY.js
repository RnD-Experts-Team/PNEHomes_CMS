import{c as mt,u as ft,j as t,H as gt}from"./app-C95Nb1Q_.js";import{X as ut,A as ht}from"./app-layout-qbG28cj0.js";import{B as ze}from"./app-logo-icon-B4HqL7dN.js";import{I as o}from"./input-mZLmjWfC.js";import{T as at}from"./textarea-B9LAlBwb.js";import{L as d}from"./label-D-tZkR4P.js";import{S as yt}from"./switch-zH2iGn6I.js";import{C as rt,a as ct,b as dt,c as nt}from"./card-rkRkmiO9.js";import{I as he}from"./IdPickerButton-C207G7mx.js";import{P as xt}from"./plus-Dxs5h83b.js";/* empty css            */import"./index-DfNUVKm6.js";import"./index-Bhp2316M.js";import"./index-T61tjutk.js";function Tt(Re){const e=mt.c(203),{community:r}=Re;let ye;e[0]===Symbol.for("react.memo_cache_sentinel")?(ye=[{title:"Communities",href:"/admin/communities"},{title:"Edit",href:"#"}],e[0]=ye):ye=e[0];const ot=ye,Oe=r.title||"",Ve=r.city||"",Xe=r.address||"";let m;e[1]!==r.latitude?(m=r.latitude?.toString()||"",e[1]=r.latitude,e[2]=m):m=e[2];let f;e[3]!==r.longitude?(f=r.longitude?.toString()||"",e[3]=r.longitude,e[4]=f):f=e[4];const qe=r.card_image_id||"",Je=r.video_id||"",Ke=r.community_features||"",Qe=r.starting_price||"",We=r.order||0;let g;e[5]!==r.gallery?(g=r.gallery?.map(_t)||[],e[5]=r.gallery,e[6]=g):g=e[6];let xe;e[7]!==r.is_active||e[8]!==Qe||e[9]!==We||e[10]!==g||e[11]!==Oe||e[12]!==Ve||e[13]!==Xe||e[14]!==m||e[15]!==f||e[16]!==qe||e[17]!==Je||e[18]!==Ke?(xe={title:Oe,city:Ve,address:Xe,latitude:m,longitude:f,card_image_id:qe,video_id:Je,community_features:Ke,starting_price:Qe,order:We,is_active:r.is_active,gallery:g},e[7]=r.is_active,e[8]=Qe,e[9]=We,e[10]=g,e[11]=Oe,e[12]=Ve,e[13]=Xe,e[14]=m,e[15]=f,e[16]=qe,e[17]=Je,e[18]=Ke,e[19]=xe):xe=e[19];const{data:i,setData:l,put:Ye,processing:pe,errors:a}=ft(xe);let _e;e[20]!==r.id||e[21]!==Ye?(_e=s=>{s.preventDefault(),Ye(`/admin/communities/${r.id}`)},e[20]=r.id,e[21]=Ye,e[22]=_e):_e=e[22];const Ze=_e;let je;e[23]!==i.gallery||e[24]!==l?(je=()=>{l("gallery",[...i.gallery,""])},e[23]=i.gallery,e[24]=l,e[25]=je):je=e[25];const et=je;let ve;e[26]!==i.gallery||e[27]!==l?(ve=(s,n)=>{const c=[...i.gallery];c[s]=n,l("gallery",c)},e[26]=i.gallery,e[27]=l,e[28]=ve):ve=e[28];const be=ve;let Ne;e[29]!==i.gallery||e[30]!==l?(Ne=s=>{l("gallery",i.gallery.filter((n,c)=>c!==s))},e[29]=i.gallery,e[30]=l,e[31]=Ne):Ne=e[31];const tt=Ne,lt=`Edit Community - ${r.title}`;let u;e[32]!==lt?(u=t.jsx(gt,{title:lt}),e[32]=lt,e[33]=u):u=e[33];let Ce;e[34]===Symbol.for("react.memo_cache_sentinel")?(Ce=t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("h1",{className:"text-2xl font-bold",children:"Edit Community"})}),e[34]=Ce):Ce=e[34];let Se;e[35]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsx(rt,{children:t.jsx(ct,{children:"Basic Information"})}),e[35]=Se):Se=e[35];let Ie;e[36]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(d,{htmlFor:"title",children:"Title *"}),e[36]=Ie):Ie=e[36];let h;e[37]!==l?(h=s=>l("title",s.target.value),e[37]=l,e[38]=h):h=e[38];let y;e[39]!==i.title||e[40]!==h?(y=t.jsx(o,{id:"title",value:i.title,onChange:h,placeholder:"Enter community title"}),e[39]=i.title,e[40]=h,e[41]=y):y=e[41];let x;e[42]!==a.title?(x=a.title&&t.jsx("p",{className:"text-sm text-destructive",children:a.title}),e[42]=a.title,e[43]=x):x=e[43];let p;e[44]!==r.slug?(p=t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Current slug: ",t.jsx("code",{children:r.slug})]}),e[44]=r.slug,e[45]=p):p=e[45];let _;e[46]!==y||e[47]!==x||e[48]!==p?(_=t.jsxs("div",{className:"space-y-2",children:[Ie,y,x,p]}),e[46]=y,e[47]=x,e[48]=p,e[49]=_):_=e[49];let ke;e[50]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx(d,{htmlFor:"city",children:"City *"}),e[50]=ke):ke=e[50];let j;e[51]!==l?(j=s=>l("city",s.target.value),e[51]=l,e[52]=j):j=e[52];let v;e[53]!==i.city||e[54]!==j?(v=t.jsx(o,{id:"city",value:i.city,onChange:j,placeholder:"Enter city name"}),e[53]=i.city,e[54]=j,e[55]=v):v=e[55];let b;e[56]!==a.city?(b=a.city&&t.jsx("p",{className:"text-sm text-destructive",children:a.city}),e[56]=a.city,e[57]=b):b=e[57];let N;e[58]!==v||e[59]!==b?(N=t.jsxs("div",{className:"space-y-2",children:[ke,v,b]}),e[58]=v,e[59]=b,e[60]=N):N=e[60];let C;e[61]!==_||e[62]!==N?(C=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_,N]}),e[61]=_,e[62]=N,e[63]=C):C=e[63];let we;e[64]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx(d,{htmlFor:"address",children:"Address *"}),e[64]=we):we=e[64];let S;e[65]!==l?(S=s=>l("address",s.target.value),e[65]=l,e[66]=S):S=e[66];let I;e[67]!==i.address||e[68]!==S?(I=t.jsx(at,{id:"address",value:i.address,onChange:S,placeholder:"Enter full address",rows:3}),e[67]=i.address,e[68]=S,e[69]=I):I=e[69];let k;e[70]!==a.address?(k=a.address&&t.jsx("p",{className:"text-sm text-destructive",children:a.address}),e[70]=a.address,e[71]=k):k=e[71];let w;e[72]!==I||e[73]!==k?(w=t.jsxs("div",{className:"space-y-2",children:[we,I,k]}),e[72]=I,e[73]=k,e[74]=w):w=e[74];let De;e[75]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx(d,{htmlFor:"latitude",children:"Latitude"}),e[75]=De):De=e[75];let D;e[76]!==l?(D=s=>l("latitude",s.target.value),e[76]=l,e[77]=D):D=e[77];let E;e[78]!==i.latitude||e[79]!==D?(E=t.jsx(o,{id:"latitude",type:"number",step:"any",value:i.latitude,onChange:D,placeholder:"39.8814"}),e[78]=i.latitude,e[79]=D,e[80]=E):E=e[80];let F;e[81]!==a.latitude?(F=a.latitude&&t.jsx("p",{className:"text-sm text-destructive",children:a.latitude}),e[81]=a.latitude,e[82]=F):F=e[82];let P;e[83]!==E||e[84]!==F?(P=t.jsxs("div",{className:"space-y-2",children:[De,E,F]}),e[83]=E,e[84]=F,e[85]=P):P=e[85];let Ee;e[86]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsx(d,{htmlFor:"longitude",children:"Longitude"}),e[86]=Ee):Ee=e[86];let G;e[87]!==l?(G=s=>l("longitude",s.target.value),e[87]=l,e[88]=G):G=e[88];let T;e[89]!==i.longitude||e[90]!==G?(T=t.jsx(o,{id:"longitude",type:"number",step:"any",value:i.longitude,onChange:G,placeholder:"-83.0930"}),e[89]=i.longitude,e[90]=G,e[91]=T):T=e[91];let A;e[92]!==a.longitude?(A=a.longitude&&t.jsx("p",{className:"text-sm text-destructive",children:a.longitude}),e[92]=a.longitude,e[93]=A):A=e[93];let L;e[94]!==T||e[95]!==A?(L=t.jsxs("div",{className:"space-y-2",children:[Ee,T,A]}),e[94]=T,e[95]=A,e[96]=L):L=e[96];let B;e[97]!==P||e[98]!==L?(B=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P,L]}),e[97]=P,e[98]=L,e[99]=B):B=e[99];let Fe;e[100]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(d,{htmlFor:"starting_price",children:"Starting Price *"}),e[100]=Fe):Fe=e[100];let $;e[101]!==l?($=s=>l("starting_price",s.target.value),e[101]=l,e[102]=$):$=e[102];let H;e[103]!==i.starting_price||e[104]!==$?(H=t.jsx(o,{id:"starting_price",value:i.starting_price,onChange:$,placeholder:"e.g., $500,000"}),e[103]=i.starting_price,e[104]=$,e[105]=H):H=e[105];let M;e[106]!==a.starting_price?(M=a.starting_price&&t.jsx("p",{className:"text-sm text-destructive",children:a.starting_price}),e[106]=a.starting_price,e[107]=M):M=e[107];let U;e[108]!==H||e[109]!==M?(U=t.jsxs("div",{className:"space-y-2",children:[Fe,H,M]}),e[108]=H,e[109]=M,e[110]=U):U=e[110];let Pe;e[111]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsx(d,{htmlFor:"card_image_id",children:"Card Image ID (Google Drive) *"}),e[111]=Pe):Pe=e[111];let z;e[112]!==l?(z=s=>l("card_image_id",s.target.value),e[112]=l,e[113]=z):z=e[113];let R;e[114]!==i.card_image_id||e[115]!==z?(R=t.jsx(o,{id:"card_image_id",value:i.card_image_id,onChange:z,placeholder:"Enter Google Drive file ID"}),e[114]=i.card_image_id,e[115]=z,e[116]=R):R=e[116];let O;e[117]!==l?(O=t.jsx(he,{onPick:s=>l("card_image_id",s)}),e[117]=l,e[118]=O):O=e[118];let V;e[119]!==R||e[120]!==O?(V=t.jsxs("div",{className:"flex gap-2",children:[R,O]}),e[119]=R,e[120]=O,e[121]=V):V=e[121];let X;e[122]!==a.card_image_id?(X=a.card_image_id&&t.jsx("p",{className:"text-sm text-destructive",children:a.card_image_id}),e[122]=a.card_image_id,e[123]=X):X=e[123];let q;e[124]!==V||e[125]!==X?(q=t.jsxs("div",{className:"space-y-2",children:[Pe,V,X]}),e[124]=V,e[125]=X,e[126]=q):q=e[126];let Ge;e[127]===Symbol.for("react.memo_cache_sentinel")?(Ge=t.jsx(d,{htmlFor:"video_id",children:"Video ID (Google Drive)"}),e[127]=Ge):Ge=e[127];let J;e[128]!==l?(J=s=>l("video_id",s.target.value),e[128]=l,e[129]=J):J=e[129];let K;e[130]!==i.video_id||e[131]!==J?(K=t.jsx(o,{id:"video_id",value:i.video_id,onChange:J,placeholder:"Enter Google Drive video file ID"}),e[130]=i.video_id,e[131]=J,e[132]=K):K=e[132];let Q;e[133]!==l?(Q=t.jsx(he,{onPick:s=>l("video_id",s)}),e[133]=l,e[134]=Q):Q=e[134];let W;e[135]!==K||e[136]!==Q?(W=t.jsxs("div",{className:"space-y-2",children:[Ge,t.jsxs("div",{className:"flex gap-2",children:[K,Q]})]}),e[135]=K,e[136]=Q,e[137]=W):W=e[137];let Te;e[138]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsx(d,{htmlFor:"community_features",children:"Community Features"}),e[138]=Te):Te=e[138];let Y;e[139]!==l?(Y=s=>l("community_features",s.target.value),e[139]=l,e[140]=Y):Y=e[140];let Z;e[141]!==i.community_features||e[142]!==Y?(Z=t.jsxs("div",{className:"space-y-2",children:[Te,t.jsx(at,{id:"community_features",value:i.community_features,onChange:Y,placeholder:"Enter community features",rows:4})]}),e[141]=i.community_features,e[142]=Y,e[143]=Z):Z=e[143];let Ae;e[144]===Symbol.for("react.memo_cache_sentinel")?(Ae=t.jsx(d,{htmlFor:"order",children:"Order"}),e[144]=Ae):Ae=e[144];let ee;e[145]!==l?(ee=s=>l("order",parseInt(s.target.value)||0),e[145]=l,e[146]=ee):ee=e[146];let te;e[147]!==i.order||e[148]!==ee?(te=t.jsxs("div",{className:"space-y-2",children:[Ae,t.jsx(o,{id:"order",type:"number",value:i.order,onChange:ee})]}),e[147]=i.order,e[148]=ee,e[149]=te):te=e[149];let le;e[150]!==l?(le=s=>l("is_active",s),e[150]=l,e[151]=le):le=e[151];let ie;e[152]!==i.is_active||e[153]!==le?(ie=t.jsx(yt,{id:"is_active",checked:i.is_active,onCheckedChange:le}),e[152]=i.is_active,e[153]=le,e[154]=ie):ie=e[154];let Le;e[155]===Symbol.for("react.memo_cache_sentinel")?(Le=t.jsx(d,{htmlFor:"is_active",children:"Active"}),e[155]=Le):Le=e[155];let se;e[156]!==ie?(se=t.jsxs("div",{className:"flex items-center space-x-2",children:[ie,Le]}),e[156]=ie,e[157]=se):se=e[157];let ae;e[158]!==te||e[159]!==se?(ae=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[te,se]}),e[158]=te,e[159]=se,e[160]=ae):ae=e[160];let re;e[161]!==C||e[162]!==w||e[163]!==B||e[164]!==U||e[165]!==q||e[166]!==W||e[167]!==Z||e[168]!==ae?(re=t.jsxs(dt,{children:[Se,t.jsxs(nt,{className:"space-y-4",children:[C,w,B,U,q,W,Z,ae]})]}),e[161]=C,e[162]=w,e[163]=B,e[164]=U,e[165]=q,e[166]=W,e[167]=Z,e[168]=ae,e[169]=re):re=e[169];let Be;e[170]===Symbol.for("react.memo_cache_sentinel")?(Be=t.jsx(ct,{children:"Gallery Images"}),e[170]=Be):Be=e[170];let $e;e[171]===Symbol.for("react.memo_cache_sentinel")?($e=["image/jpeg","image/png","image/webp"],e[171]=$e):$e=e[171];let ce;e[172]!==i.gallery||e[173]!==l?(ce=t.jsx(he,{multiple:!0,label:"Pick from Drive (multi)",mimeTypes:$e,onPickMany:s=>l("gallery",[...i.gallery,...s])}),e[172]=i.gallery,e[173]=l,e[174]=ce):ce=e[174];let He;e[175]===Symbol.for("react.memo_cache_sentinel")?(He=t.jsx(xt,{className:"mr-2 h-4 w-4"}),e[175]=He):He=e[175];let de;e[176]!==et?(de=t.jsxs(ze,{type:"button",onClick:et,size:"sm",children:[He,"Add Image"]}),e[176]=et,e[177]=de):de=e[177];let ne;e[178]!==ce||e[179]!==de?(ne=t.jsx(rt,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[Be,t.jsxs("div",{className:"flex gap-2",children:[ce,de]})]})}),e[178]=ce,e[179]=de,e[180]=ne):ne=e[180];let oe;e[181]!==i.gallery||e[182]!==tt||e[183]!==l||e[184]!==be?(oe=i.gallery.length===0?t.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No images added yet. Use “Pick from Drive (multi)” to add many at once, or click “Add Image”."}):i.gallery.map((s,n)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx(o,{value:s,onChange:c=>be(n,c.target.value),placeholder:"Enter Google Drive file ID"}),t.jsx(he,{label:"Pick",onPick:c=>be(n,c),mimeTypes:["image/jpeg","image/png","image/webp"]}),t.jsx(he,{multiple:!0,label:"Multi",mimeTypes:["image/jpeg","image/png","image/webp"],onPickMany:c=>{if(!c.length)return;const st=[...i.gallery];st.splice(n,1,c[0]),c.length>1&&st.splice(n+1,0,...c.slice(1)),l("gallery",st)}}),t.jsx(ze,{type:"button",variant:"outline",size:"icon",onClick:()=>tt(n),children:t.jsx(ut,{className:"h-4 w-4"})})]},n)),e[181]=i.gallery,e[182]=tt,e[183]=l,e[184]=be,e[185]=oe):oe=e[185];let me;e[186]!==oe?(me=t.jsx(nt,{className:"space-y-4",children:oe}),e[186]=oe,e[187]=me):me=e[187];let fe;e[188]!==ne||e[189]!==me?(fe=t.jsxs(dt,{children:[ne,me]}),e[188]=ne,e[189]=me,e[190]=fe):fe=e[190];let Me;e[191]===Symbol.for("react.memo_cache_sentinel")?(Me=t.jsx(ze,{type:"button",variant:"outline",onClick:pt,children:"Cancel"}),e[191]=Me):Me=e[191];const it=pe?"Updating...":"Update Community";let ge;e[192]!==pe||e[193]!==it?(ge=t.jsxs("div",{className:"flex justify-end gap-2",children:[Me,t.jsx(ze,{type:"submit",disabled:pe,children:it})]}),e[192]=pe,e[193]=it,e[194]=ge):ge=e[194];let ue;e[195]!==Ze||e[196]!==re||e[197]!==fe||e[198]!==ge?(ue=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[Ce,t.jsxs("form",{onSubmit:Ze,className:"space-y-6",children:[re,fe,ge]})]}),e[195]=Ze,e[196]=re,e[197]=fe,e[198]=ge,e[199]=ue):ue=e[199];let Ue;return e[200]!==u||e[201]!==ue?(Ue=t.jsxs(ht,{breadcrumbs:ot,children:[u,ue]}),e[200]=u,e[201]=ue,e[202]=Ue):Ue=e[202],Ue}function pt(){return window.history.back()}function _t(Re){return Re.image_id}export{Tt as default};
